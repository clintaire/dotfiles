# Ultra-simple tmux configuration - Mousepad/Notepad++ style
# Focus on GUI-like behavior with minimal terminal complexity

# ============================================
# TERMINAL FIXES
# ============================================
set -g terminal-overrides 'xterm*:smcup@:rmcup@'
set -g default-terminal "screen-256color"

# ============================================
# SUPER SIMPLE PREFIX (or none needed!)
# ============================================
# Keep Ctrl+a but make most things work WITHOUT prefix
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# ============================================
# FULL MOUSE SUPPORT (like a real GUI)
# ============================================
set -g mouse on

# Click to select panes (no prefix needed)
bind-key -T root MouseDown1Pane select-pane -t =

# Right-click for context menu (simulated)
bind-key -T root MouseDown3Pane display-menu -t = -x M -y M \
    "Split Horizontal" h "split-window -h -c '#{pane_current_path}'" \
    "Split Vertical" v "split-window -v -c '#{pane_current_path}'" \
    "Close Pane" x "kill-pane" \
    "New Window" c "new-window -c '#{pane_current_path}'"

# ============================================
# SUPER SIMPLE SPLITTING (like file tabs)
# ============================================
# Simple keys - no prefix needed for common actions
bind-key -n C-T new-window -c "#{pane_current_path}"  # Ctrl+T = New tab (like browser)
bind-key -n C-W kill-pane                            # Ctrl+W = Close (like editor)

# Traditional splitting with easy keys
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# ============================================
# NOTEPAD++ STYLE NAVIGATION
# ============================================
# Ctrl+PageUp/PageDown for window switching (like Notepad++)
bind-key -n C-PageUp previous-window
bind-key -n C-PageDown next-window

# Alt+Arrow for pane switching (no prefix)
bind-key -n M-Left select-pane -L
bind-key -n M-Right select-pane -R
bind-key -n M-Up select-pane -U
bind-key -n M-Down select-pane -D

# Ctrl+Arrow for window switching
bind-key -n C-Left previous-window
bind-key -n C-Right next-window

# ============================================
# SIMPLE COPY/PASTE (like editors)
# ============================================
# Use emacs mode for simpler copy/paste
setw -g mode-keys emacs

# Mouse selection automatically copies (like selecting text in notepad)
bind-key -T copy-mode MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "xclip -selection clipboard"

# Simple text selection with Shift+arrows (works in emacs mode)
bind-key -n S-Left if -F "#{s/off//:status}" "send-keys S-Left" "copy-mode; send-keys S-Left"
bind-key -n S-Right if -F "#{s/off//:status}" "send-keys S-Right" "copy-mode; send-keys S-Right"
bind-key -n S-Up if -F "#{s/off//:status}" "send-keys S-Up" "copy-mode; send-keys S-Up"
bind-key -n S-Down if -F "#{s/off//:status}" "send-keys S-Down" "copy-mode; send-keys S-Down"

# Ctrl+Shift+I enters copy mode (selection mode)
bind-key -n C-S-i copy-mode

# In copy mode, make it behave like a text editor
bind-key -T copy-mode Left send-keys -X cursor-left
bind-key -T copy-mode Right send-keys -X cursor-right
bind-key -T copy-mode Up send-keys -X cursor-up
bind-key -T copy-mode Down send-keys -X cursor-down

# Shift+arrows to select in copy mode
bind-key -T copy-mode S-Left send-keys -X begin-selection \; send-keys -X cursor-left
bind-key -T copy-mode S-Right send-keys -X begin-selection \; send-keys -X cursor-right
bind-key -T copy-mode S-Up send-keys -X begin-selection \; send-keys -X cursor-up
bind-key -T copy-mode S-Down send-keys -X begin-selection \; send-keys -X cursor-down

# Essential copy/paste shortcuts
bind-key -T copy-mode C-c send-keys -X copy-pipe-and-cancel "xclip -selection clipboard"
bind-key -T copy-mode C-v send-keys -X cancel
bind-key -T copy-mode Escape send-keys -X cancel

# Ctrl+V to paste anywhere
bind-key -n C-v run "xclip -o -selection clipboard | tmux load-buffer - ; tmux paste-buffer"

# Ctrl+Shift+A to select all (enter copy mode and select everything)
bind-key -n C-S-a copy-mode \; send-keys -X select-pane \; send-keys -X begin-selection \; send-keys -X top-line \; send-keys -X start-of-line \; send-keys -X end-of-line

# Double/triple click selection
bind-key -T copy-mode DoubleClick1Pane select-pane \; send-keys -X select-word
bind-key -T copy-mode TripleClick1Pane select-pane \; send-keys -X select-line

# ============================================
# GUI-LIKE DEFAULTS
# ============================================
# Start at 1 (like page numbers)
set -g base-index 1
setw -g pane-base-index 1

# No confusing auto-rename
set-option -g allow-rename off

# Lots of undo/history like a text editor
set -g history-limit 100000

# No delays (instant response like GUI)
set -sg escape-time 0

# Keep window numbers consecutive
set -g renumber-windows on

# ============================================
# CLEAN VISUAL STYLE (like modern editors)
# ============================================
# Minimal status bar
set -g status-bg '#2d2d2d'
set -g status-fg '#cccccc'
set -g status-left ''
set -g status-right '%H:%M'
set -g status-right-length 20

# Tab-like window display
setw -g window-status-format ' #I:#W '
setw -g window-status-current-format ' #I:#W '
setw -g window-status-current-style 'bg=#0078d4,fg=white,bold'

# Subtle borders (like editor panels)
set -g pane-border-style 'fg=#404040'
set -g pane-active-border-style 'fg=#0078d4'

# ============================================
# MOUSEPAD-STYLE RESIZING
# ============================================
# Drag borders to resize (already enabled by mouse on)
# Keyboard resizing with arrow keys (no modifier stress)
bind-key -r Up resize-pane -U 2
bind-key -r Down resize-pane -D 2
bind-key -r Left resize-pane -L 2
bind-key -r Right resize-pane -R 2

# ============================================
# QUICK ACCESS MENU
# ============================================
# F1 for help (like Windows programs)
bind-key -n F1 display-message "
TMUX - Mousepad Style:
===============================================
MOUSE: Click, drag, scroll - everything works!
NEW TAB: Ctrl+T
CLOSE: Ctrl+W  
SWITCH TABS: Ctrl+PageUp/PageDown or Ctrl+Left/Right
SWITCH PANES: Alt+Arrows or just click

COPY/PASTE (Simple):
  Just select text with mouse (auto-copies)
  Ctrl+V = Paste
  Ctrl+Shift+A = Select all
  Ctrl+Shift+I = Manual selection mode

SPLIT: Ctrl+a then | or - (or right-click menu)
HELP: F1
===============================================
Press any key to close
"

# Quick reload
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# ============================================
# ADVANCED MOUSEPAD FEATURES
# ============================================
# Ctrl+S to "save" (sync panes - like saving all open files)
bind-key -n C-s set-window-option synchronize-panes

# Ctrl+F for "find" (enter copy mode for searching)
bind-key -n C-f copy-mode

